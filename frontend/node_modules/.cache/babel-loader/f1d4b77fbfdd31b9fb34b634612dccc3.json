{"ast":null,"code":"var _jsxFileName = \"V:\\\\Programming\\\\Python\\\\PyCharm\\\\PyCharmProjects\\\\Microservices_MMT\\\\frontend\\\\src\\\\pages\\\\Admin.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nexport default function Admin() {\n  const navigate = useNavigate();\n  const [birthdayWish, setBirthdayWish] = useState('');\n  const [error, setError] = useState(''); // Added error state\n\n  // Fetch admin data (including birthday wish) on page load\n  useEffect(() => {\n    const fetchAdminData = async () => {\n      const username = localStorage.getItem(\"username\"); // Use username from localStorage\n\n      if (!username) {\n        alert(\"You must be logged in to view your dashboard.\");\n        navigate('/login');\n        return;\n      }\n      try {\n        const response = await fetch(`http://localhost:5001/admin?username=${username}`);\n        const data = await response.json();\n        if (response.ok) {\n          setBirthdayWish(data.birthday_wish); // Set birthday message if it's the admin's birthday\n        } else {\n          setError(data.error || \"Unknown error fetching data.\");\n          console.error(\"Error fetching admin data:\", data);\n        }\n      } catch (err) {\n        setError(\"Error fetching data from server.\");\n        console.error(\"Error fetching admin data:\", err);\n      }\n    };\n    fetchAdminData();\n  }, [navigate]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center py-20 bg-gradient-to-r from-gray-200 to-gray-400 text-black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-4xl font-bold mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"\\uD83D\\uDC69\\u200D\\uD83D\\uDCBC Welcome, Admin!\"), birthdayWish && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-yellow-100 text-yellow-800 p-4 rounded mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-2xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, birthdayWish)), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-red-100 text-red-800 p-4 rounded mb-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-2xl font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, error)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-lg mb-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, \"Choose a service to manage:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center space-x-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => navigate('/admin/edit-packages'),\n    className: \"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg shadow-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"\\u270F\\uFE0F Edit Packages\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => navigate('/admin/discount'),\n    className: \"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg shadow-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"\\uD83D\\uDCB8 Edit Discounts\")));\n}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Admin","navigate","birthdayWish","setBirthdayWish","error","setError","fetchAdminData","username","localStorage","getItem","alert","response","fetch","data","json","ok","birthday_wish","console","err","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["V:/Programming/Python/PyCharm/PyCharmProjects/Microservices_MMT/frontend/src/pages/Admin.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function Admin() {\r\n  const navigate = useNavigate();\r\n  const [birthdayWish, setBirthdayWish] = useState('');\r\n  const [error, setError] = useState('');  // Added error state\r\n\r\n  // Fetch admin data (including birthday wish) on page load\r\n  useEffect(() => {\r\n    const fetchAdminData = async () => {\r\n      const username = localStorage.getItem(\"username\");  // Use username from localStorage\r\n\r\n      if (!username) {\r\n        alert(\"You must be logged in to view your dashboard.\");\r\n        navigate('/login');\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`http://localhost:5001/admin?username=${username}`);\r\n        const data = await response.json();\r\n\r\n        if (response.ok) {\r\n          setBirthdayWish(data.birthday_wish);  // Set birthday message if it's the admin's birthday\r\n        } else {\r\n          setError(data.error || \"Unknown error fetching data.\");\r\n          console.error(\"Error fetching admin data:\", data);\r\n        }\r\n      } catch (err) {\r\n        setError(\"Error fetching data from server.\");\r\n        console.error(\"Error fetching admin data:\", err);\r\n      }\r\n    };\r\n\r\n    fetchAdminData();\r\n  }, [navigate]);\r\n\r\n  return (\r\n    <div className=\"text-center py-20 bg-gradient-to-r from-gray-200 to-gray-400 text-black\">\r\n      <h2 className=\"text-4xl font-bold mb-4\">üë©‚Äçüíº Welcome, Admin!</h2>\r\n      {birthdayWish && (\r\n        <div className=\"bg-yellow-100 text-yellow-800 p-4 rounded mb-6\">\r\n          <h3 className=\"text-2xl font-semibold\">{birthdayWish}</h3>\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div className=\"bg-red-100 text-red-800 p-4 rounded mb-6\">\r\n          <h3 className=\"text-2xl font-semibold\">{error}</h3>\r\n        </div>\r\n      )}\r\n      <p className=\"text-lg mb-8\">Choose a service to manage:</p>\r\n\r\n      <div className=\"flex justify-center space-x-6\">\r\n        <button\r\n          onClick={() => navigate('/admin/edit-packages')}\r\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg shadow-md\"\r\n        >\r\n          ‚úèÔ∏è Edit Packages\r\n        </button>\r\n\r\n        {/* Add Edit Discounts Button */}\r\n        <button\r\n          onClick={() => navigate('/admin/discount')}\r\n          className=\"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg shadow-md\"\r\n        >\r\n          üí∏ Edit Discounts\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,eAAe,SAASC,KAAKA,CAAA,EAAG;EAC9B,MAAMC,QAAQ,GAAGF,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACG,YAAY,EAAEC,eAAe,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAE;;EAEzC;EACAD,SAAS,CAAC,MAAM;IACd,MAAMS,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAE;;MAEpD,IAAI,CAACF,QAAQ,EAAE;QACbG,KAAK,CAAC,+CAA+C,CAAC;QACtDT,QAAQ,CAAC,QAAQ,CAAC;QAClB;MACF;MAEA,IAAI;QACF,MAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwCL,QAAQ,EAAE,CAAC;QAChF,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;QAElC,IAAIH,QAAQ,CAACI,EAAE,EAAE;UACfZ,eAAe,CAACU,IAAI,CAACG,aAAa,CAAC,CAAC,CAAE;QACxC,CAAC,MAAM;UACLX,QAAQ,CAACQ,IAAI,CAACT,KAAK,IAAI,8BAA8B,CAAC;UACtDa,OAAO,CAACb,KAAK,CAAC,4BAA4B,EAAES,IAAI,CAAC;QACnD;MACF,CAAC,CAAC,OAAOK,GAAG,EAAE;QACZb,QAAQ,CAAC,kCAAkC,CAAC;QAC5CY,OAAO,CAACb,KAAK,CAAC,4BAA4B,EAAEc,GAAG,CAAC;MAClD;IACF,CAAC;IAEDZ,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACL,QAAQ,CAAC,CAAC;EAEd,oBACEL,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAC,yEAAyE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtF9B,KAAA,CAAAuB,aAAA;IAAIC,SAAS,EAAC,yBAAyB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,gDAAyB,CAAC,EACjExB,YAAY,iBACXN,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAC,gDAAgD;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7D9B,KAAA,CAAAuB,aAAA;IAAIC,SAAS,EAAC,wBAAwB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAExB,YAAiB,CACtD,CACN,EACAE,KAAK,iBACJR,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAC,0CAA0C;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvD9B,KAAA,CAAAuB,aAAA;IAAIC,SAAS,EAAC,wBAAwB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEtB,KAAU,CAC/C,CACN,eACDR,KAAA,CAAAuB,aAAA;IAAGC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,6BAA8B,CAAC,eAE3D9B,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAC,+BAA+B;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5C9B,KAAA,CAAAuB,aAAA;IACEQ,OAAO,EAAEA,CAAA,KAAM1B,QAAQ,CAAC,sBAAsB,CAAE;IAChDmB,SAAS,EAAC,yEAAyE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACpF,4BAEO,CAAC,eAGT9B,KAAA,CAAAuB,aAAA;IACEQ,OAAO,EAAEA,CAAA,KAAM1B,QAAQ,CAAC,iBAAiB,CAAE;IAC3CmB,SAAS,EAAC,2EAA2E;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtF,6BAEO,CACL,CACF,CAAC;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module"}