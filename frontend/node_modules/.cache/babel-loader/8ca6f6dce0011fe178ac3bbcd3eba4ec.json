{"ast":null,"code":"var _jsxFileName = \"V:\\\\Programming\\\\Python\\\\PyCharm\\\\PyCharmProjects\\\\Microservices_MMT\\\\frontend\\\\src\\\\pages\\\\DiscountSettings.js\";\nimport React, { useState, useEffect } from 'react';\nfunction DiscountSettings() {\n  const [months, setMonths] = useState([]); // No initial hardcoded months\n  const [discount, setDiscount] = useState(null); // Start with null for discount\n  const [message, setMessage] = useState(\"\"); // To display success or error messages\n\n  // Fetch the current discount settings when the component mounts\n  useEffect(() => {\n    fetch(\"http://localhost:5003/admin/discount\").then(res => res.json()).then(data => {\n      if (data.months && data.discount) {\n        setMonths(data.months);\n        setDiscount(data.discount);\n      } else {\n        setMessage(\"Failed to load current discount settings\");\n      }\n    }).catch(err => {\n      setMessage(\"Failed to load current discount settings\");\n      console.error(err);\n    });\n  }, []);\n\n  // Handle saving the updated discount settings\n  const handleSubmit = () => {\n    fetch(\"http://localhost:5003/admin/discount\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        months: months,\n        discount: discount\n      })\n    }).then(res => res.json()).then(data => setMessage(\"Discount settings updated successfully\")).catch(err => setMessage(\"Failed to update discount settings\"));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-3xl font-bold mb-6 text-blue-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"Discount Settings\"), discount === null ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"Loading current discount settings...\") : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"months\",\n    className: \"block text-lg font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Seasonal Discount Months (Comma-separated):\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"months\",\n    value: months.join(\", \"),\n    onChange: e => setMonths(e.target.value.split(\",\").map(month => Number(month.trim()))),\n    className: \"border p-2 rounded mt-1 w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"discount\",\n    className: \"block text-lg font-medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Seasonal Discount Percentage:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    id: \"discount\",\n    value: discount,\n    onChange: e => setDiscount(Number(e.target.value)),\n    className: \"border p-2 rounded mt-1 w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    className: \"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Save Changes\")), message && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mt-4 text-green-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }, message));\n}\nexport default DiscountSettings;","map":{"version":3,"names":["React","useState","useEffect","DiscountSettings","months","setMonths","discount","setDiscount","message","setMessage","fetch","then","res","json","data","catch","err","console","error","handleSubmit","method","headers","body","JSON","stringify","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","htmlFor","type","id","value","join","onChange","e","target","split","map","month","Number","trim","onClick"],"sources":["V:/Programming/Python/PyCharm/PyCharmProjects/Microservices_MMT/frontend/src/pages/DiscountSettings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction DiscountSettings() {\r\n  const [months, setMonths] = useState([]); // No initial hardcoded months\r\n  const [discount, setDiscount] = useState(null); // Start with null for discount\r\n  const [message, setMessage] = useState(\"\"); // To display success or error messages\r\n\r\n  // Fetch the current discount settings when the component mounts\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5003/admin/discount\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.months && data.discount) {\r\n          setMonths(data.months);\r\n          setDiscount(data.discount);\r\n        } else {\r\n          setMessage(\"Failed to load current discount settings\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setMessage(\"Failed to load current discount settings\");\r\n        console.error(err);\r\n      });\r\n  }, []);\r\n\r\n  // Handle saving the updated discount settings\r\n  const handleSubmit = () => {\r\n    fetch(\"http://localhost:5003/admin/discount\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        months: months,\r\n        discount: discount,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setMessage(\"Discount settings updated successfully\"))\r\n      .catch((err) => setMessage(\"Failed to update discount settings\"));\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-blue-600\">Discount Settings</h2>\r\n\r\n      {/* If discount data is not loaded yet, show loading message */}\r\n      {discount === null ? (\r\n        <div>Loading current discount settings...</div>\r\n      ) : (\r\n        <>\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"months\" className=\"block text-lg font-medium\">\r\n              Seasonal Discount Months (Comma-separated):\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"months\"\r\n              value={months.join(\", \")}\r\n              onChange={(e) =>\r\n                setMonths(e.target.value.split(\",\").map((month) => Number(month.trim())))\r\n              }\r\n              className=\"border p-2 rounded mt-1 w-full\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-4\">\r\n            <label htmlFor=\"discount\" className=\"block text-lg font-medium\">\r\n              Seasonal Discount Percentage:\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"discount\"\r\n              value={discount}\r\n              onChange={(e) => setDiscount(Number(e.target.value))}\r\n              className=\"border p-2 rounded mt-1 w-full\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n          >\r\n            Save Changes\r\n          </button>\r\n        </>\r\n      )}\r\n\r\n      {/* Show success or error message */}\r\n      {message && <p className=\"mt-4 text-green-600\">{message}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DiscountSettings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}